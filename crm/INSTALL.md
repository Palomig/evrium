# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Evrium CRM

## –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

–ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `crm/` –Ω–∞ –≤–∞—à –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `/crm/`.

```
/public_html/
  ‚îî‚îÄ‚îÄ crm/
      ‚îú‚îÄ‚îÄ config/
      ‚îú‚îÄ‚îÄ api/
      ‚îú‚îÄ‚îÄ admin/
      ‚îú‚îÄ‚îÄ assets/
      ‚îú‚îÄ‚îÄ login.php
      ‚îú‚îÄ‚îÄ dashboard.php
      ‚îî‚îÄ‚îÄ ...
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. –û—Ç–∫—Ä–æ–π—Ç–µ phpMyAdmin –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ MySQL —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
   ```sql
   CREATE DATABASE evrium_crm CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
   ```
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `database.sql`:
   - –í phpMyAdmin: –ò–º–ø–æ—Ä—Ç ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª `database.sql` ‚Üí –í–ø–µ—Ä–µ–¥
   - –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å:
     ```bash
     mysql -u –≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å -p evrium_crm < database.sql
     ```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `crm/config/db.php` –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```php
define('DB_HOST', 'localhost');        // –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ MySQL
define('DB_NAME', 'evrium_crm');       // –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
define('DB_USER', '–≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'); // –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è MySQL
define('DB_PASS', '–≤–∞—à_–ø–∞—Ä–æ–ª—å');       // –ü–∞—Ä–æ–ª—å MySQL
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫–∏:

```bash
chmod 755 crm/
chmod 777 crm/assets/materials/
mkdir crm/logs && chmod 777 crm/logs/
```

### –®–∞–≥ 5: –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://–≤–∞—à-–¥–æ–º–µ–Ω.com/crm/login.php`

**–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞:**
- –õ–æ–≥–∏–Ω: `admin`
- –ü–∞—Ä–æ–ª—å: `admin123`

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞!

---

## –î–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π —Ö–µ—à –ø–∞—Ä–æ–ª—è:
   ```php
   <?php
   echo password_hash('–≤–∞—à_–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å', PASSWORD_DEFAULT);
   ?>
   ```

2. –û–±–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–æ–ª—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:
   ```sql
   UPDATE admins
   SET password_hash = '–Ω–æ–≤—ã–π_—Ö–µ—à'
   WHERE username = 'admin';
   ```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

```sql
INSERT INTO admins (username, password_hash, name, role, active)
VALUES (
  'teacher1',
  '$2y$10$...',  -- —Ö–µ—à –ø–∞—Ä–æ–ª—è
  '–ò–º—è –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è',
  'teacher',
  1
);
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

**Apache**

–§–∞–π–ª `.htaccess` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∫–ª—é—á–µ–Ω `mod_rewrite`:

```bash
sudo a2enmod rewrite
sudo service apache2 restart
```

**Nginx**

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ—Ä–≤–µ—Ä–∞:

```nginx
location /crm/ {
    try_files $uri $uri/ /crm/index.php?$query_string;

    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.0-fpm.sock;
        fastcgi_index index.php;
        include fastcgi_params;
    }
}

# –ó–∞—â–∏—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
location ~ /crm/config/ {
    deny all;
}

# –ó–∞—â–∏—Ç–∞ SQL —Ñ–∞–π–ª–æ–≤
location ~ \.sql$ {
    deny all;
}
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTPS (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)
2. –í —Ñ–∞–π–ª–µ `config/auth.php` –∏–∑–º–µ–Ω–∏—Ç–µ:
   ```php
   ini_set('session.cookie_secure', 1); // –í–∫–ª—é—á–∏—Ç—å –¥–ª—è HTTPS
   ```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

–í `php.ini` –∏–ª–∏ `.htaccess` —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:

```ini
upload_max_filesize = 10M
post_max_size = 10M
max_execution_time = 300
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
2. ‚úÖ –í—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
3. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–∞—à–±–æ—Ä–¥
4. ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ PHP (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏)

### –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `config/db.php`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MySQL —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î

**–û—à–∏–±–∫–∞ 500**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ PHP: `/var/log/apache2/error.log`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–∫–ª—é—á–µ–Ω `display_errors` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

**–ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Å—Å–∏–π PHP
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–∞–ø–∫–∞ `/tmp` –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ cookies –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

1. –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
3. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã—Ö —É—á–µ–Ω–∏–∫–æ–≤
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ API —Ç–æ–∫–µ–Ω—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ README.md
- –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ `crm/logs/`
- –°–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

**Evrium CRM** - –£—Å–ø–µ—à–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è! üéì
