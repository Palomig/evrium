# Evrium CRM - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

Evrium CRM - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è CRM-—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—á–µ–Ω–∏–∫–∞–º–∏, —É—Ä–æ–∫–∞–º–∏, –æ–ø–ª–∞—Ç–∞–º–∏ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –æ–±—É—á–µ–Ω–∏—è. –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä–æ–≤ –∏ —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å–∫–∏—Ö —Ü–µ–Ω—Ç—Ä–æ–≤.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞–º–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
- ‚úÖ –£—á—ë—Ç —É—Ä–æ–∫–æ–≤ –∏ –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π
- ‚úÖ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á—ë—Ç (–æ–ø–ª–∞—Ç—ã, –±–∞–ª–∞–Ω—Å, –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –Ω–∞–≤—ã–∫–æ–≤ —Å —É—Ä–æ–≤–Ω—è–º–∏ –æ—Å–≤–æ–µ–Ω–∏—è
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –æ—Ç—á—ë—Ç–æ–≤
- ‚úÖ REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- ‚úÖ Telegram-–±–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –†–æ–ª–∏: –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∏ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

**Frontend:**
- HTML5, CSS3, JavaScript
- Bootstrap 5
- Chart.js (–¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤)

**Backend:**
- PHP 8.x
- MySQL (InnoDB, UTF8MB4)
- REST API

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PHP 8.0 –∏–ª–∏ –≤—ã—à–µ
- MySQL 5.7 –∏–ª–∏ –≤—ã—à–µ
- Apache/Nginx —Å mod_rewrite
- Composer (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –®–∞–≥–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
   ```bash
   git clone <repository-url>
   cd evrium/crm
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
   ```bash
   mysql -u root -p < database.sql
   ```

   –ò–ª–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `database.sql` —á–µ—Ä–µ–∑ phpMyAdmin.

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î**

   –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `config/db.php`:
   ```php
   define('DB_HOST', 'localhost');
   define('DB_NAME', 'evrium_crm');
   define('DB_USER', 'your_db_user');
   define('DB_PASS', 'your_db_password');
   ```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**
   ```bash
   chmod 755 crm/
   chmod 777 crm/logs/
   chmod 777 crm/assets/materials/
   ```

5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä**

   **Apache (.htaccess —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)**

   **Nginx:**
   ```nginx
   location /crm/ {
       try_files $uri $uri/ /crm/index.php?$query_string;
   }
   ```

6. **–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É**

   URL: `http://your-domain.com/crm/login.php`

   –¢–µ—Å—Ç–æ–≤—ã–π –¥–æ—Å—Ç—É–ø:
   - –õ–æ–≥–∏–Ω: `admin`
   - –ü–∞—Ä–æ–ª—å: `admin123`

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
crm/
‚îú‚îÄ‚îÄ config/                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ db.php             # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ auth.php           # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ helpers.php        # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ api/                   # REST API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ students.php       # API —É—á–µ–Ω–∏–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ lessons.php        # API —É—Ä–æ–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ payments.php       # API –æ–ø–ª–∞—Ç
‚îÇ   ‚îú‚îÄ‚îÄ skills.php         # API –Ω–∞–≤—ã–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ reports.php        # API –æ—Ç—á—ë—Ç–æ–≤
‚îú‚îÄ‚îÄ admin/                 # –ü–∞–Ω–µ–ª—å —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.php      # –ì–ª–∞–≤–Ω–∞—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ teachers.php       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ settings.php       # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ assets/                # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ css/              # –°—Ç–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ js/               # JavaScript
‚îÇ   ‚îî‚îÄ‚îÄ materials/        # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚îú‚îÄ‚îÄ login.php             # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ dashboard.php         # –ü–∞–Ω–µ–ª—å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ students.php          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ–Ω–∏–∫–∞–º–∏
‚îú‚îÄ‚îÄ student.php           # –ö–∞—Ä—Ç–æ—á–∫–∞ —É—á–µ–Ω–∏–∫–∞
‚îú‚îÄ‚îÄ lessons.php           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞–º–∏
‚îú‚îÄ‚îÄ payments.php          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–ª–∞—Ç–∞–º–∏
‚îú‚îÄ‚îÄ reports.php           # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤
‚îú‚îÄ‚îÄ database.sql          # SQL —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (password_hash)
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π (PDO prepared statements)
- ‚úÖ CSRF —Ç–æ–∫–µ–Ω—ã –¥–ª—è —Ñ–æ—Ä–º
- ‚úÖ XSS –∑–∞—â–∏—Ç–∞ (htmlspecialchars)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ API —Ç–æ–∫–µ–Ω—ã —Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º —Å—Ä–æ–∫–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

## üì° API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API –Ω–µ–æ–±—Ö–æ–¥–∏–º Bearer —Ç–æ–∫–µ–Ω:

```bash
curl -X GET "http://your-domain.com/crm/api/students.php?action=list" \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

**–£—á–µ–Ω–∏–∫–∏:**
- `GET /api/students.php?action=list` - –°–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤
- `GET /api/students.php?action=get&id={id}` - –ü–æ–ª—É—á–∏—Ç—å —É—á–µ–Ω–∏–∫–∞
- `POST /api/students.php?action=add` - –î–æ–±–∞–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞
- `POST /api/students.php?action=update` - –û–±–Ω–æ–≤–∏—Ç—å —É—á–µ–Ω–∏–∫–∞
- `POST /api/students.php?action=delete` - –£–¥–∞–ª–∏—Ç—å —É—á–µ–Ω–∏–∫–∞

**–£—Ä–æ–∫–∏:**
- `GET /api/lessons.php?action=list&student_id={id}` - –°–ø–∏—Å–æ–∫ —É—Ä–æ–∫–æ–≤
- `POST /api/lessons.php?action=add` - –î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫

**–û–ø–ª–∞—Ç—ã:**
- `GET /api/payments.php?action=list&student_id={id}` - –°–ø–∏—Å–æ–∫ –æ–ø–ª–∞—Ç
- `POST /api/payments.php?action=add` - –î–æ–±–∞–≤–∏—Ç—å –æ–ø–ª–∞—Ç—É

**–û—Ç—á—ë—Ç—ã:**
- `GET /api/reports.php?action=monthly&student_id={id}&month=YYYY-MM` - –ú–µ—Å—è—á–Ω—ã–π –æ—Ç—á—ë—Ç (JSON)
- `GET /api/reports.php?action=pdf&student_id={id}&month=YYYY-MM` - PDF –æ—Ç—á—ë—Ç

## üéØ –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å (teacher)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏–º–∏ —É—á–µ–Ω–∏–∫–∞–º–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–æ–≤ –∏ –æ—Ü–µ–Ω–æ–∫
- –£—á—ë—Ç –æ–ø–ª–∞—Ç
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–æ–≤ –ø–æ —Å–≤–æ–∏–º —É—á–µ–Ω–∏–∫–∞–º
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞–º–∏ —É—á–µ–Ω–∏–∫–æ–≤

### –°—É–ø–µ—Ä-–∞–¥–º–∏–Ω (superadmin)
- –í—Å–µ –ø—Ä–∞–≤–∞ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —É—á–µ–Ω–∏–∫–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è–º–∏
- –°–≤–æ–¥–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram

API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ Telegram-–±–æ—Ç–æ–≤:

```php
// –ü—Ä–∏–≤—è–∑–∫–∞ Telegram –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
POST /api/telegram.php?action=link
{
  "telegram_id": 123456789,
  "student_id": 1
}

// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
GET /api/telegram.php?action=progress&telegram_id=123456789
```

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `admins` - –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
- `students` - –£—á–µ–Ω–∏–∫–∏
- `lessons` - –£—Ä–æ–∫–∏
- `payments` - –û–ø–ª–∞—Ç—ã
- `skills` - –ù–∞–≤—ã–∫–∏
- `student_skills` - –ù–∞–≤—ã–∫–∏ —É—á–µ–Ω–∏–∫–æ–≤ —Å —É—Ä–æ–≤–Ω—è–º–∏
- `materials` - –£—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- `api_tokens` - API —Ç–æ–∫–µ–Ω—ã

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```sql
UPDATE admins
SET password_hash = '$2y$10$NEW_HASH'
WHERE username = 'admin';
```

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ö–µ—à–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```php
echo password_hash('your_password', PASSWORD_DEFAULT);
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

```sql
INSERT INTO admins (username, password_hash, name, role, active)
VALUES ('teacher1', '$2y$10$...', '–ò–º—è –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è', 'teacher', 1);
```

## üìù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- Email: support@evrium.com
- GitHub Issues: [—Å—Å—ã–ª–∫–∞ –Ω–∞ issues]
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [—Å—Å—ã–ª–∫–∞ –Ω–∞ docs]

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## üë• –ê–≤—Ç–æ—Ä—ã

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å–∫–∏—Ö —Ü–µ–Ω—Ç—Ä–æ–≤ —Å –ª—é–±–æ–≤—å—é ‚ù§Ô∏è

---

**Evrium CRM** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏–µ–º
