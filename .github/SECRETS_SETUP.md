# Настройка GitHub Secrets для деплоя на Timeweb

Для работы автоматического деплоя на Timeweb нужно настроить секреты в GitHub репозитории.

## Шаги настройки:

1. Перейдите в настройки репозитория: **Settings** → **Secrets and variables** → **Actions**

2. Нажмите **New repository secret** и добавьте следующие секреты:

### FTP_SERVER
- **Name:** `FTP_SERVER`
- **Value:** адрес FTP сервера Timeweb (например: `ftp.timeweb.ru` или IP-адрес)

### FTP_USERNAME
- **Name:** `FTP_USERNAME`
- **Value:** ваш FTP логин от Timeweb

### FTP_PASSWORD
- **Name:** `FTP_PASSWORD`
- **Value:** ваш FTP пароль от Timeweb

## Как получить FTP данные в Timeweb:

1. Войдите в панель управления Timeweb
2. Перейдите в раздел **Сайты** → выберите ваш сайт
3. Откройте раздел **FTP и SSH**
4. Там вы найдете:
   - **Сервер:** адрес FTP сервера
   - **Логин:** ваш FTP логин
   - **Пароль:** можно посмотреть или изменить

## Проверка:

После настройки секретов:
1. Сделайте коммит в любую ветку `claude/**`
2. Workflow автоматически сделает merge в `main`
3. После merge в `main` запустится деплой на Timeweb
4. Проверьте вкладку **Actions** в GitHub для мониторинга процесса

## Структура деплоя:

- Все файлы из корня репозитория копируются в `/public_html/` на сервере
- Исключаются служебные файлы (`.git`, `.github`, `node_modules`, и т.д.)
- Деплой происходит только при пуше в ветку `main`

## Устранение проблем:

Если деплой не работает:
1. Проверьте правильность FTP данных
2. Убедитесь, что FTP доступ включен в панели Timeweb
3. Проверьте права доступа к папке `/public_html/`
4. Посмотрите логи в разделе **Actions** в GitHub

## Автоматический merge:

- При каждом пуше в ветки `claude/**` автоматически создается merge в `main`
- Это запускает workflow деплоя на Timeweb
- Не нужно вручную создавать Pull Request
